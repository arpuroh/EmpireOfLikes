/* main.css - Empire of Likes - Single Page Interactive V2.1 */

@import url('https://fonts.googleapis.com/css2?family=Garamond:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;700;900&family=Orbitron:wght@500;700&display=swap');

/* --- CSS Variables & Base Styles --- */
:root {
    --font-serif: 'Garamond', serif;
    --font-sans: 'Inter', sans-serif;
    --font-display: 'Orbitron', sans-serif;

    --color-dark-deep-space: #08081A; /* Even deeper dark */
    --color-dark-mid-tone: #1A1A36;   /* Adjusted mid-tone */
    --color-dark-highlight: #2C2C52; /* Adjusted highlight */

    --color-algorithmic-neon-primary: #00FFFF; /* Cyan */
    --color-algorithmic-neon-secondary: #FF00FF; /* Magenta */
    --color-gold-accent: #FFD700;
    --color-subtle-glow: rgba(0, 255, 255, 0.15); /* For subtle glows */

    --color-text-light: #E8E8FF; /* Slightly brighter light text */
    --color-text-medium: #B0B0DD; /* Adjusted medium text */
    --color-text-dark-on-light: #121212;

    --container-width: 1000px; /* Slightly wider for more breathing room */
    --spacing-unit-small: 0.5rem;
    --spacing-unit-medium: 1rem;
    --spacing-unit-large: 1.5rem;
    --spacing-unit-xlarge: 2.5rem;
    --spacing-unit-xxlarge: 4rem;

    --header-height: 70px;

    --animation-duration-fast: 0.3s;
    --animation-duration-normal: 0.6s;
    --animation-duration-slow: 1s;

    --border-radius-small: 4px;
    --border-radius-medium: 8px;
    --border-radius-large: 15px;
}

::selection {
    background-color: var(--color-algorithmic-neon-secondary);
    color: var(--color-dark-deep-space);
}

/* Custom Scrollbar */
::-webkit-scrollbar { width: 12px; }
::-webkit-scrollbar-track { background: var(--color-dark-deep-space); }
::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--color-algorithmic-neon-primary), var(--color-algorithmic-neon-secondary));
    border-radius: 6px;
    border: 2px solid var(--color-dark-deep-space);
}
::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--color-algorithmic-neon-secondary), var(--color-algorithmic-neon-primary));
}


html {
    scroll-behavior: smooth;
    scrollbar-color: var(--color-algorithmic-neon-primary) var(--color-dark-deep-space);
    scrollbar-width: thin;
}

body {
    margin: 0;
    font-family: var(--font-serif);
    font-size: clamp(1rem, 1.05vw, 1.125rem); /* Responsive base font size */
    line-height: 1.8; /* Increased for readability */
    color: var(--color-text-light);
    background-color: var(--color-dark-deep-space);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    position: relative;
}

#particle-canvas {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2; /* Ensure it's behind parallax if any added */
    opacity: 0.4; /* Slightly reduced for less distraction */
}

#cursor-glow {
    position: fixed; width: 35px; height: 35px; border-radius: 50%;
    background-color: var(--color-subtle-glow);
    box-shadow: 0 0 20px 8px var(--color-subtle-glow);
    pointer-events: none; transform: translate(-50%, -50%);
    z-index: 9999; transition: width 0.15s ease, height 0.15s ease, background-color 0.15s ease, opacity 0.15s ease;
    opacity: 0;
}
body:hover #cursor-glow { opacity: 1; }
#cursor-glow.active {
    width: 45px; height: 45px;
    background-color: rgba(255, 0, 255, 0.25); /* Magenta glow */
    box-shadow: 0 0 25px 10px rgba(255, 0, 255, 0.35);
}


/* --- Site Loader --- */
.site-loader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--color-dark-deep-space);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 10000;
    transition: opacity var(--animation-duration-slow) ease-out var(--animation-duration-fast), visibility var(--animation-duration-slow) ease-out var(--animation-duration-fast);
}
.site-loader.loaded { opacity: 0; visibility: hidden; }
.site-loader p { font-family: var(--font-display); color: var(--color-text-light); font-size: 1.2rem; letter-spacing: 1.5px; margin-top: var(--spacing-unit-large); }
.loader-core { display: flex; justify-content: center; align-items: center; width: 90px; height: 90px; position: relative; }
.loader-ring {
    position: absolute; border: 5px solid transparent; border-radius: 50%; animation: rotateRing 2.2s cubic-bezier(0.6, 0, 0.4, 1) infinite;
}
.loader-ring:nth-child(1) { width: 90px; height: 90px; border-top-color: var(--color-algorithmic-neon-primary); animation-delay: -0.5s; }
.loader-ring:nth-child(2) { width: 70px; height: 70px; border-right-color: var(--color-algorithmic-neon-secondary); animation-delay: -0.35s; }
.loader-ring:nth-child(3) { width: 50px; height: 50px; border-bottom-color: var(--color-gold-accent); animation-delay: -0.2s; }
@keyframes rotateRing { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }


.container {
    width: 92%; max-width: var(--container-width); margin-left: auto; margin-right: auto;
    padding-left: var(--spacing-unit-medium); padding-right: var(--spacing-unit-medium);
    position: relative; z-index: 1;
}

/* --- Typography --- */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display); font-weight: 700; line-height: 1.25;
    margin-top: var(--spacing-unit-large); margin-bottom: var(--spacing-unit-medium);
    color: var(--color-text-light); text-shadow: 0 0 8px var(--color-subtle-glow);
}

h1.site-title {
    font-size: clamp(1.5rem, 2.2vw, 1.9rem); margin: 0; color: var(--color-text-light);
    font-weight: 700; letter-spacing: 1.5px;
}
h1.site-title a { text-decoration: none; color: inherit; }
h1.site-title span { color: var(--color-algorithmic-neon-primary); }
h1.site-title span:nth-child(2) { color: var(--color-algorithmic-neon-secondary); }


h2.section-title {
    font-size: clamp(2.2rem, 4vw, 3.2rem); text-align: center; margin-bottom: var(--spacing-unit-xxlarge);
    color: var(--color-text-light); position: relative; padding-bottom: var(--spacing-unit-medium);
    text-transform: uppercase; letter-spacing: 2.5px;
}
h2.section-title::after {
    content: ''; position: absolute; left: 50%; bottom: 0; transform: translateX(-50%);
    width: 120px; height: 5px;
    background: linear-gradient(90deg, var(--color-algorithmic-neon-primary), var(--color-algorithmic-neon-secondary), var(--color-algorithmic-neon-primary));
    background-size: 200% 100%; /* For animation */
    animation: gradientLineAnimation 4s linear infinite;
    border-radius: 3px;
    box-shadow: 0 0 12px var(--color-algorithmic-neon-primary), 0 0 12px var(--color-algorithmic-neon-secondary);
}
@keyframes gradientLineAnimation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.highlight-text { color: var(--color-algorithmic-neon-primary); text-shadow: 0 0 5px var(--color-algorithmic-neon-primary); }
.highlight-secondary { color: var(--color-algorithmic-neon-secondary); text-shadow: 0 0 5px var(--color-algorithmic-neon-secondary); }

h3 { /* Chapter titles */
    font-size: clamp(1.6rem, 2.5vw, 2.1rem); color: var(--color-gold-accent); margin-top: var(--spacing-unit-xlarge);
    margin-bottom: var(--spacing-unit-medium);
    border-bottom: 2px solid var(--color-dark-highlight); padding-bottom: var(--spacing-unit-small);
    font-family: var(--font-sans); font-weight: 700; text-shadow: 0 0 6px rgba(255,215,0,0.3);
}

p { margin-bottom: var(--spacing-unit-medium); color: var(--color-text-medium); }
p strong { color: var(--color-text-light); font-weight: 700; }

a { color: var(--color-algorithmic-neon-primary); text-decoration: none; transition: color var(--animation-duration-fast) ease, opacity var(--animation-duration-fast) ease, text-shadow var(--animation-duration-fast) ease; }
a:hover, a:focus { color: var(--color-algorithmic-neon-secondary); opacity: 0.9; text-shadow: 0 0 5px var(--color-algorithmic-neon-secondary); }

blockquote.pull-quote-main {
    font-style: italic; text-align: center; margin: var(--spacing-unit-xlarge) auto;
    padding: var(--spacing-unit-large) 0; max-width: 750px;
    border-top: 3px solid var(--color-gold-accent); border-bottom: 3px solid var(--color-gold-accent);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.25);
}
blockquote.pull-quote-main p {
    font-size: clamp(1.3em, 1.8vw, 1.6em); font-family: var(--font-serif); color: var(--color-kardashian-beige);
    margin-bottom: 0; line-height: 1.6;
}

.thesis {
    font-size: clamp(1.3em, 1.9vw, 1.6em); font-family: var(--font-sans); font-weight: 300; text-align: center;
    margin: var(--spacing-unit-xlarge) auto; max-width: 750px; color: var(--color-text-light);
    line-height: 1.7;
}
.thesis strong { font-weight: 700; }

.animate-text-reveal span { opacity: 0; display: inline-block; transform: translateY(10px); animation: textReveal var(--animation-duration-normal) forwards; }
@keyframes textReveal { to { opacity: 1; transform: translateY(0); } }


/* --- Header and Navigation --- */
.site-header {
    background-color: rgba(8, 8, 26, 0.75); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
    padding: var(--spacing-unit-small) 0; border-bottom: 1px solid var(--color-dark-highlight);
    position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; height: var(--header-height);
    transition: background-color var(--animation-duration-fast) ease, box-shadow var(--animation-duration-fast) ease;
}
.site-header.scrolled { background-color: rgba(8, 8, 26, 0.92); box-shadow: 0 3px 20px rgba(0,0,0,0.4); }
.site-header .container { display: flex; justify-content: space-between; align-items: center; height: 100%; }

.main-nav ul { list-style: none; padding: 0; margin: 0; display: flex; }
.main-nav li { margin-left: var(--spacing-unit-small); } /* Reduced for more links if needed */
.main-nav a.nav-link {
    font-family: var(--font-sans); text-decoration: none; color: var(--color-text-medium); font-weight: 700;
    padding: 0.7rem 1.1rem; border-radius: var(--border-radius-small); transition: all var(--animation-duration-fast) ease;
    position: relative; overflow: hidden; font-size: clamp(0.85rem, 1.2vw, 0.95rem);
}
.main-nav a.nav-link::before {
    content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%) scaleX(0);
    width: 90%; height: 3px; background-color: var(--color-algorithmic-neon-secondary);
    transition: transform var(--animation-duration-fast) ease-out; border-radius: 1px;
}
.main-nav a.nav-link:hover, .main-nav a.nav-link.active {
    color: var(--color-text-light); background-color: var(--color-dark-highlight);
}
.main-nav a.nav-link:hover::before, .main-nav a.nav-link.active::before { transform: translateX(-50%) scaleX(1); }
.main-nav a.nav-link.active { color: var(--color-algorithmic-neon-primary); }


#menu-toggle {
    display: none; background: transparent; border: none; padding: var(--spacing-unit-small); cursor: pointer;
    z-index: 1001;
}
.menu-icon-bar {
    display: block; width: 28px; height: 3px; background-color: var(--color-text-light);
    margin: 6px 0; border-radius: 2px; transition: all var(--animation-duration-fast) cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Elastic transition */
}
#menu-toggle.open .menu-icon-bar:nth-child(1) { transform: translateY(9px) rotate(45deg); }
#menu-toggle.open .menu-icon-bar:nth-child(2) { opacity: 0; transform: scaleX(0); }
#menu-toggle.open .menu-icon-bar:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }


/* --- Main Content Sections --- */
#main-content { padding-top: var(--header-height); }
.content-section {
    min-height: 100vh; padding: var(--spacing-unit-xxlarge) 0;
    display: flex; flex-direction: column; justify-content: center;
    position: relative; overflow: hidden;
    opacity: 0; transition: opacity var(--animation-duration-slow) ease-out;
    border-bottom: 2px solid; /* Thicker separator */
    border-image-slice: 1;
    border-image-source: linear-gradient(to right, var(--color-dark-highlight), var(--color-algorithmic-neon-primary), var(--color-dark-highlight));
}
.content-section.active-section { opacity: 1; }
.content-section:last-of-type { border-bottom: none; }

.section-background-fx {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
    opacity: 0.2; /* Default opacity, can be overridden */
}


/* --- Chapter Styling --- */
.chapter {
    background: radial-gradient(ellipse at center, rgba(28, 28, 58, 0.7) 0%, rgba(28, 28, 58, 0.5) 70%);
    padding: var(--spacing-unit-xlarge); border-radius: var(--border-radius-large);
    margin-bottom: var(--spacing-unit-xlarge);
    border: 1px solid var(--color-dark-highlight);
    box-shadow: 0 10px 35px rgba(0,0,0,0.6), 0 0 20px var(--color-subtle-glow) inset;
    position: relative;
    transition: transform var(--animation-duration-fast) ease, box-shadow var(--animation-duration-fast) ease;
}
.chapter:hover {
    transform: translateY(-5px) scale(1.01);
    box-shadow: 0 15px 45px rgba(0,0,0,0.7), 0 0 25px var(--color-subtle-glow) inset, 0 0 15px var(--color-algorithmic-neon-secondary);
}
.chapter::before, .chapter::after { /* Decorative glowing corners */
    content: ''; position: absolute; width: 25px; height: 25px;
    border-radius: 50%; filter: blur(5px); opacity: 0.7;
}
.chapter::before { top: 10px; left: 10px; background: var(--color-algorithmic-neon-primary); }
.chapter::after { bottom: 10px; right: 10px; background: var(--color-algorithmic-neon-secondary); }


/* --- Temporal Loom (Prologue) --- */
.temporal-loom-container {
    margin: var(--spacing-unit-xlarge) auto; max-width: 750px; position: relative;
    background-color: rgba(0,0,0,0.5); padding: var(--spacing-unit-large); border-radius: var(--border-radius-medium);
    border: 1px solid var(--color-dark-highlight);
    box-shadow: 0 0 25px var(--color-subtle-glow);
}
.temporal-scene { transition: opacity var(--animation-duration-normal) ease-in-out; position: relative; }
.temporal-scene img { max-width: 100%; height: auto; border-radius: var(--border-radius-medium); border: 2px solid var(--color-colosseum-sandstone); display: block; }
.temporal-scene .scene-caption {
    font-family: var(--font-display); font-size: 1.2rem; margin-top: var(--spacing-unit-medium); color: var(--color-gold-accent);
    text-align: center; text-shadow: 0 0 8px var(--color-gold-accent);
}
.temporal-loom-controls { margin-top: var(--spacing-unit-large); text-align: center; }
.temporal-loom-controls label {
    font-family: var(--font-display); display: flex; align-items: center; justify-content: center;
    margin-bottom: var(--spacing-unit-small); color: var(--color-text-light); font-size: 1.2rem;
}
#loom-slider {
    width: 70%; cursor: grab; margin: 0 var(--spacing-unit-medium); appearance: none; -webkit-appearance: none; height: 12px;
    background: linear-gradient(90deg, var(--color-colosseum-sandstone) 0%, var(--color-dark-highlight) 50%, var(--color-gold-accent) 100%);
    border-radius: 6px; outline: none; transition: box-shadow var(--animation-duration-fast) ease;
}
#loom-slider:active { box-shadow: 0 0 10px var(--color-algorithmic-neon-primary); }
#loom-slider::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none; width: 28px; height: 28px;
    background: radial-gradient(circle, var(--color-algorithmic-neon-primary) 30%, var(--color-algorithmic-neon-secondary) 100%);
    border-radius: 50%; border: 3px solid var(--color-dark-deep-space);
    box-shadow: 0 0 12px var(--color-algorithmic-neon-primary), 0 0 5px var(--color-algorithmic-neon-secondary) inset;
    cursor: grabbing; transform: scale(1); transition: transform var(--animation-duration-fast) ease;
}
#loom-slider::-webkit-slider-thumb:hover { transform: scale(1.1); }
#loom-slider::-moz-range-thumb { /* Similar styling for Firefox */
    width: 24px; height: 24px; background: radial-gradient(circle, var(--color-algorithmic-neon-primary) 30%, var(--color-algorithmic-neon-secondary) 100%);
    border-radius: 50%; border: 3px solid var(--color-dark-deep-space);
    box-shadow: 0 0 12px var(--color-algorithmic-neon-primary), 0 0 5px var(--color-algorithmic-neon-secondary) inset;
    cursor: grabbing;
}


/* --- Buttons --- */
.btn {
    display: inline-block; font-family: var(--font-display); font-weight: 500; text-decoration: none;
    padding: calc(var(--spacing-unit-medium)*0.9) calc(var(--spacing-unit-large)*1.1); /* Adjusted padding */
    border-radius: 50px; transition: all var(--animation-duration-fast) cubic-bezier(0.25, 0.8, 0.25, 1);
    border: 2px solid; cursor: pointer; position: relative; overflow: hidden;
    background-color: transparent; letter-spacing: 1.2px; text-transform: uppercase; font-size: clamp(0.8rem, 1vw, 0.95rem);
    box-shadow: 0 0 0 rgba(0,0,0,0); /* For transition */
}
.btn::before {
    content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0;
    background-color: rgba(255,255,255,0.2); border-radius: 50%;
    transform: translate(-50%, -50%); transition: width 0.4s ease, height 0.4s ease, opacity 0.4s ease; opacity: 0;
}
.btn:active::before { width: 200%; height: 200%; opacity: 1; transition: width 0s, height 0s, opacity 0s; } /* Instant ripple */

.btn.btn-primary { border-color: var(--color-algorithmic-neon-primary); color: var(--color-algorithmic-neon-primary); }
.btn.btn-primary:hover {
    color: var(--color-dark-deep-space); background-color: var(--color-algorithmic-neon-primary);
    box-shadow: 0 0 20px var(--color-algorithmic-neon-primary), 0 0 30px var(--color-algorithmic-neon-primary);
    transform: translateY(-3px) scale(1.02);
}

.btn.btn-secondary { border-color: var(--color-algorithmic-neon-secondary); color: var(--color-algorithmic-neon-secondary); }
.btn.btn-secondary:hover {
    color: var(--color-dark-deep-space); background-color: var(--color-algorithmic-neon-secondary);
    box-shadow: 0 0 20px var(--color-algorithmic-neon-secondary), 0 0 30px var(--color-algorithmic-neon-secondary);
    transform: translateY(-3px) scale(1.02);
}

.btn.btn-filter { font-size: clamp(0.75rem, 0.9vw, 0.85rem); padding: 0.7rem 1.3rem; margin: var(--spacing-unit-small); }


/* --- Interactive Placeholders & Specific Elements --- */
.interactive-placeholder {
    background-color: rgba(10, 10, 30, 0.4);
    border: 1px solid var(--color-dark-highlight);
    padding: var(--spacing-unit-large); margin: var(--spacing-unit-xlarge) 0;
    border-radius: var(--border-radius-medium); box-shadow: 0 0 15px rgba(0,0,0,0.4) inset;
}
.interactive-placeholder h4 {
    margin-top: 0; color: var(--color-gold-accent); font-size: clamp(1.3rem, 1.8vw, 1.5rem);
    font-family: var(--font-sans); font-weight: 700;
}
.interactive-placeholder p, .interactive-placeholder .dev-note { font-size: clamp(0.9rem, 1.1vw, 1rem); color: var(--color-text-medium); }
.dev-note { font-style: italic; opacity: 0.7; margin-top: var(--spacing-unit-small); }

/* Group Chat Interactive */
.chat-message-container { max-height: 350px; overflow-y: auto; padding-right: 10px; margin-top: var(--spacing-unit-medium); }
.chat-bubble {
    padding: 0.8em 1.3em; border-radius: var(--border-radius-large); margin-bottom: var(--spacing-unit-medium); max-width: 78%;
    font-family: var(--font-sans); font-size: clamp(0.85rem, 1vw, 0.95rem); line-height: 1.6;
    opacity: 0; transform: translateY(20px) scale(0.9);
    transition: opacity var(--animation-duration-fast) ease-out, transform var(--animation-duration-fast) ease-out;
    box-shadow: 0 3px 8px rgba(0,0,0,0.4);
}
.chat-bubble.them {
    background: linear-gradient(145deg, var(--color-dark-highlight), var(--color-dark-mid-tone));
    color: var(--color-text-light); border-bottom-left-radius: var(--border-radius-small); margin-right: auto;
}
.chat-bubble.me {
    background: linear-gradient(145deg, var(--color-algorithmic-neon-primary), var(--color-algorithmic-neon-secondary));
    color: var(--color-dark-deep-space); border-bottom-right-radius: var(--border-radius-small); margin-left: auto; font-weight: bold;
}

/* Colosseum Interactive */
.colosseum-image-wrapper { position: relative; overflow: hidden; border-radius: var(--border-radius-medium); box-shadow: 0 8px 20px rgba(0,0,0,0.5); }
.colosseum-base-image { display: block; max-width: 100%; transition: transform var(--animation-duration-fast) ease, filter var(--animation-duration-fast) ease; }
.colosseum-image-wrapper:hover .colosseum-base-image { transform: scale(1.02); }
.colosseum-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    opacity: 0; transition: opacity var(--animation-duration-fast) ease; pointer-events: none;
}
.colosseum-overlay.active { opacity: 1; mix-blend-mode: overlay; } /* Experiment with blend modes */
.colosseum-controls { margin-top: var(--spacing-unit-medium); text-align: center; }
.filter-description { margin-top: var(--spacing-unit-medium); font-style: italic; color: var(--color-text-medium); text-align: center; min-height: 2em; font-size: 0.95rem; }

/* Infinite Scroll Trap */
.scroll-trap-window {
    height: 350px; overflow-y: scroll; background-color: rgba(0,0,0,0.4);
    border: 1px solid var(--color-dark-highlight); border-radius: var(--border-radius-medium); padding: var(--spacing-unit-medium);
    box-shadow: 0 0 10px var(--color-subtle-glow) inset;
}
.dummy-feed-item {
    padding: var(--spacing-unit-medium); margin-bottom: var(--spacing-unit-medium);
    background-color: var(--color-dark-mid-tone); border-radius: var(--border-radius-small);
    color: var(--color-text-medium); font-family: var(--font-sans);
    opacity: 0; animation: feedItemFadeIn var(--animation-duration-fast) forwards;
    border-left: 3px solid var(--color-algorithmic-neon-primary);
}
.dummy-feed-item:nth-child(odd) { border-left-color: var(--color-algorithmic-neon-secondary); }
@keyframes feedItemFadeIn { to { opacity: 1; transform: translateX(0); } }
.dummy-feed-item { transform: translateX(-20px); } /* Initial state for animation */

/* Rosie Morph */
.rosie-morph-slider-container { position: relative; max-width: 450px; margin: auto; min-height: 330px; /* Ensure space for slider */ }
.rosie-morph-slider-container img {
    position: absolute; top: 0; left: 0; width: 100%; height: auto; border-radius: var(--border-radius-medium);
    box-shadow: 0 5px 15px rgba(0,0,0,0.4); transition: opacity var(--animation-duration-fast) ease;
}
#rosie-img2 { opacity: 0; }
.rosie-slider {
    width: 100%; margin-top: calc(310px); /* Adjust based on image height + padding */ cursor: grab;
    appearance: none; -webkit-appearance: none; height: 10px;
    background: linear-gradient(90deg, var(--color-gold-accent), var(--color-algorithmic-neon-secondary));
    border-radius: 5px;
}
.rosie-slider::-webkit-slider-thumb { /* Similar to loom-slider thumb */
    -webkit-appearance: none; appearance: none; width: 26px; height: 26px;
    background: radial-gradient(circle, var(--color-text-light) 40%, var(--color-gold-accent) 100%);
    border-radius: 50%; border: 2px solid var(--color-dark-deep-space);
    box-shadow: 0 0 10px var(--color-gold-accent);
}


/* Poll and Hope Input */
.poll-options label, .hope-input-group label { display: block; margin-bottom: var(--spacing-unit-medium); color: var(--color-text-light); font-family: var(--font-sans); }
.poll-options input[type="radio"] { margin-right: var(--spacing-unit-small); accent-color: var(--color-algorithmic-neon-primary); transform: scale(1.2); }
.hope-input-group { display: flex; margin-top: var(--spacing-unit-medium); }
#hope-input {
    flex-grow: 1; background-color: rgba(255,255,255,0.08); border: 1px solid var(--color-dark-highlight);
    color: var(--color-text-light); padding: var(--spacing-unit-medium); border-radius: 50px 0 0 50px;
    font-family: var(--font-sans); outline: none; font-size: 0.95rem;
    transition: border-color var(--animation-duration-fast), box-shadow var(--animation-duration-fast);
}
#hope-input:focus { border-color: var(--color-algorithmic-neon-primary); box-shadow: 0 0 15px var(--color-algorithmic-neon-primary) inset; }
#submit-hope-btn { border-radius: 0 50px 50px 0; padding: var(--spacing-unit-medium) var(--spacing-unit-large); }

.star-field {
    margin-top: var(--spacing-unit-large); min-height: 150px; position: relative;
    padding: var(--spacing-unit-medium); border-radius: var(--border-radius-medium);
    background: radial-gradient(ellipse at center, rgba(28,28,58,0.3) 0%, transparent 80%);
}
.hope-star {
    display: inline-block; padding: 0.5rem 1rem;
    background: linear-gradient(60deg, var(--color-algorithmic-neon-primary), var(--color-algorithmic-neon-secondary));
    color: var(--color-dark-deep-space); border-radius: 25px; margin: var(--spacing-unit-small);
    font-family: var(--font-sans); font-size: clamp(0.8rem, 1vw, 0.9rem); font-weight: bold;
    opacity: 0; transform: scale(0.3) rotate(-15deg); animation: starAppear var(--animation-duration-normal) cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
    box-shadow: 0 0 10px var(--color-algorithmic-neon-primary), 0 0 5px var(--color-algorithmic-neon-secondary);
    transition: transform var(--animation-duration-fast) ease;
}
.hope-star:hover { transform: scale(1.1) rotate(5deg) !important; /* Override animation transform */ }
@keyframes starAppear { to { opacity: 1; transform: scale(1) rotate(0deg); } }


/* --- Footer --- */
.site-footer {
    background-color: var(--color-dark-deep-space); color: var(--color-text-medium);
    padding: var(--spacing-unit-xlarge) 0; text-align: center;
    font-family: var(--font-sans); font-size: 0.9rem;
    border-top: 1px solid var(--color-dark-highlight);
}
.site-footer p { margin: var(--spacing-unit-small) 0; }
.site-footer a { color: var(--color-algorithmic-neon-primary); }
.site-footer a:hover { color: var(--color-algorithmic-neon-secondary); }

/* --- Scroll Animations --- */
.animate-on-scroll { opacity: 0; transition: opacity var(--animation-duration-normal) ease-out, transform var(--animation-duration-normal) ease-out; }
.animate-on-scroll.is-visible { opacity: 1; transform: translateY(0) translateX(0) scale(1) !important; }

.animate-on-scroll[data-animation="fadeInUp"] { transform: translateY(50px); }
.animate-on-scroll[data-animation="fadeInDown"] { transform: translateY(-50px); }
.animate-on-scroll[data-animation="slideInLeft"] { transform: translateX(-80px); }
.animate-on-scroll[data-animation="slideInRight"] { transform: translateX(80px); }
.animate-on-scroll[data-animation="zoomIn"] { transform: scale(0.7); }
.animate-on-scroll[data-animation="fadeIn"] { /* Just opacity */ }


/* --- Responsive Design --- */
@media (max-width: 900px) { /* Tablet breakpoint */
    .container { width: 95%; }
    h2.section-title { font-size: clamp(2rem, 3.5vw, 2.8rem); margin-bottom: var(--spacing-unit-xlarge); }
    h3 { font-size: clamp(1.5rem, 2.2vw, 1.9rem); }
    .chapter { padding: var(--spacing-unit-large); }
}

@media (max-width: 768px) { /* Mobile breakpoint */
    :root { --header-height: 60px; }
    body { font-size: clamp(0.95rem, 2.5vw, 1.05rem); }
    h1.site-title { font-size: clamp(1.3rem, 4vw, 1.5rem); }

    .main-nav ul {
        display: none; flex-direction: column; position: fixed;
        top: 0; left: 0; width: 100%; height: 100vh;
        background-color: rgba(8, 8, 26, 0.99);
        backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
        padding-top: calc(var(--header-height) + var(--spacing-unit-large));
        justify-content: flex-start; /* Align to top */
        align-items: center;
        transform: translateX(100%);
        transition: transform var(--animation-duration-fast) cubic-bezier(0.77, 0, 0.18, 1);
    }
    .main-nav ul.active { display: flex; transform: translateX(0); }
    .main-nav li { margin: var(--spacing-unit-medium) 0; width: 80%; text-align: center;}
    .main-nav li a.nav-link { display: block; padding: var(--spacing-unit-medium) 0; font-size: 1.6rem; border-radius: var(--border-radius-medium); }
    #menu-toggle { display: block; position: relative; }

    .content-section { padding: var(--spacing-unit-xlarge) 0; min-height: auto; }
    .hope-input-group { flex-direction: column; }
    #hope-input { border-radius: 50px; margin-bottom: var(--spacing-unit-medium); width: calc(100% - var(--spacing-unit-large)*2); /* Full width minus padding */}
    #submit-hope-btn { border-radius: 50px; width: 100%; }

    .temporal-loom-controls label { flex-direction: column; }
    #loom-slider { width: 90%; margin-top: var(--spacing-unit-small); }
}

/* Body no-scroll class for mobile menu */
body.no-scroll {
    overflow: hidden;
}
